# 메모리 절약

- 논리주소 vs 물리주소
- 메모리 낭비 방지 기술

### 논리주소 vs 물리주소

---

- CPU가 내는 주소 : 논리주소
- 실제로 메인 메모리로 들어가는 주소 : 물리주소(MMU의 재배치 레지스터를 거침)
- MMU의 재배치 레지스터가 있기 때문에 메모리의 어느 주소에든 올릴 수 있다.

### 메모리 낭비 방지 기술

---

- Dynamic Loading
    - 애플리케이션 프로그램을 메인 메모리로 올리는 것을 Load라고 함
    - 프로그램 실행에 반드시 필요한 루틴/데이터만 적재
    - 모든 루틴이 다 사용되지는 않는다. ex) 오류처리 루틴
    - 모든 데이터가 다 사용되는 것은 아니다. ex) 배열
    - 자바 : 모든 클래스가 다 사용되는 것은 아니다.
    - 실행 시 필요하면 그 때 해당 부분을 메모리에 올린다.
    - 반대 → 정적 적재

- Dynamic Linking
    - 여러 프로그램에서 공통 사용되는 라이브러리
    - 공통 라이브러리 루틴을 메모리에 중복으로 올리는 것은 낭비
    - 라이브러리 루틴 연결을 실행 시까지 미룬다.
    - 오직 한의 라이브러리 루틴만 메모리에 적재되고
    - 다른 애플리케이션 실행 시 이 루틴과 연결된다.
    - 공유 라이브러리 -ㅋ Linux 또는,
    - 동적 연결 라이브러리 - 윈도우(.dll 파일)
    - 이메일 보내는 프로그램, 파일 전송하는 프로그램이 있음 → 둘 다 네트워크를 사용함(메일, ftp) → 우연히 두 프로그램을 같이 실행하면 → 통신하는 라이브러리가 중복으로 메모리에 올라오면 메모리 낭비임
    - 반대 → 정적 연결

- Swapping
    - 메모리에 적재되어 있으나 현재 사용되지 않고 있는 프로세스 이미지
    - 메모리 활용도 높이기 위해 Backing Store
        - 하드디스크의 일부를 잘라 메모리에 올라와 있는 파일의 현재 이미지를 몰아냄
        - 그 때의 하드디스크의 일부를 Backing Store(Swap Device)라고 함
        - 파일이 저장되어 있는 부분을 파일 시스템이라고 부름
    - Swap-out vs Swap-in
    - 재배치 레지스터(Relocation Register) 사용으로 적재 위치는 무관
    - 프로세스 크기가 크면 백킹 스토어 입출력에 따른 부담 크다.