# 모니터

- 세마포는 오래된 소프트웨어 도구
- 지금 자바 프로그램에서 많이 사용되는 것은 모니터
- 자바프로그램을 많이 짤 것이기 때문에 알아두는 것이 좋음
- 프로세스 동기화 도구의 일종
- 고수준, 세마포가 어셈블리 수준이라면 모니터는 하이 레벨 언어

### 구조

---

- 세마포의 구조는 int value, queue(list), P(acquire), V(release)
- 모니터의 구조
    - 공유자원 + 공유자원 접근함수
    - 큐 2개
        - 배타 동기(상호배타, Mutual Exclusion)
            - 공통된 자원에 접근하려는 쓰레드를 하나씩 허용시킴
        - 조건 동기(Conditional Synchronized)
            - 프로세스의 순서를 보장하기 위함
            - `wait()`
            - `notify()`

### 자바 모니터

---

- 모든 객체가 모니터가 될 수 있음
- 배타동기, 지원동기 두 가지를 지원함
- 배타동기
    - 하나만 공유 자원에 접근할 수 있다.
    - `synchronized` 키워드 사용하여 지정
- 조건동기
    - `Object` 클래스에 정의되어 있기 때문에 모든 클래스에서 사용 가능
    - `wait()` : 가둔다
    - `notify()` : 갇혀 있는 애를 깨운다
    - `nofifyAll()` : 갇혀 있는 애들을 모두 깨움